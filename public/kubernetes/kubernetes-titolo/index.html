<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/notes/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=notes/livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Kubernetes: &lt;titolo&gt; | Notes</title>
<meta name="keywords" content="kubernetes">
<meta name="description" content="Kubernetes
Cluster


Cluster = l‚Äôintero datacenter Kubernetes
Cos‚Äô√® il cluster EKS:  composto da Control plane &#43; Worker nodes

Control plane: API server, scheduler, controller manager, etcd. In EKS √® gestito da AWS. Non c‚Äô√® un tuo ‚Äúmaster node‚Äù su EC2.
Worker nodes: le istanze dove girano i Pod. Sono EC2 (providerID AWS), pronte, v1.33.4-eks-‚Ä¶

Comando utile: kubectl get nodes -o wide

Namespace

Namespace = ‚Äústanze‚Äù dentro quel datacenter. Pi√π namespace convivono nello stesso cluster.

L‚Äôisolamento √® solo logico: per isolare rete serve NetworkPolicy.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/notes/kubernetes/kubernetes-titolo/">
<link crossorigin="anonymous" href="/notes/assets/css/stylesheet.d0049500090a8b5b522a30f4bc70f815df41595125d25503dff47281216974cb.css" integrity="sha256-0ASVAAkKi1tSKjD0vHD4Fd9BWVEl0lUD3/RygSFpdMs=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/notes/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/notes/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/notes/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/notes/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/notes/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/notes/kubernetes/kubernetes-titolo/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/notes/" accesskey="h" title="Notes (Alt + H)">Notes</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/notes/tags/aws/" title="Aws">
                    <span>AWS</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/docker/" title="Docker">
                    <span>Docker</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/kubernetes/" title="Kubernetes">
                    <span>Kubernetes</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/linux/" title="Linux">
                    <span>Linux</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/networking/" title="Networking">
                    <span>Networking</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/nginx/" title="Nginx">
                    <span>Nginx</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/virtualization/" title="Virtualization">
                    <span>Virtualization</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/webserver/" title="Webserver">
                    <span>Webserver</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/notes/tags/" title="Tags">
                    <span>All topics</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/notes/">Home</a>&nbsp;¬ª&nbsp;<a href="http://localhost:1313/notes/kubernetes/">Kubernetes</a></div>
    <h1 class="post-title entry-hint-parent">
      Kubernetes: &lt;titolo&gt;
    </h1>
    <div class="post-meta"><span title='2025-10-14 00:00:00 +0000 UTC'>October 14, 2025</span>&nbsp;¬∑&nbsp;<span>6 min</span>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#kubernetes" aria-label="Kubernetes">Kubernetes</a></li>
                <li>
                    <a href="#--cpu-vs-memoria-in-kubernetes--spiegato-facile-" aria-label="** üß† CPU vs Memoria in Kubernetes ‚Äî spiegato facile **">** üß† CPU vs Memoria in Kubernetes ‚Äî spiegato facile **</a><ul>
                        
                <li>
                    <a href="#-step-1-capire-cosa-stai-guardando" aria-label="üß† STEP 1: Capire cosa stai guardando">üß† STEP 1: Capire cosa stai guardando</a></li>
                <li>
                    <a href="#-step-2-cerca-i-valori-anomali-o-sbilanciati" aria-label="üß™ STEP 2: Cerca i valori anomali o sbilanciati">üß™ STEP 2: Cerca i valori anomali o sbilanciati</a><ul>
                        
                <li>
                    <a href="#-pattern-1-cpu-richiesta-molto-pi%c3%b9-alta-di-quanto-serve" aria-label="üü° Pattern 1: CPU richiesta molto pi√π alta di quanto serve">üü° Pattern 1: CPU richiesta molto pi√π alta di quanto serve</a></li>
                <li>
                    <a href="#-pattern-2-mem_request-o-mem_limit-in-formato-errato" aria-label="üî¥ Pattern 2: MEM_REQUEST o MEM_LIMIT in formato errato">üî¥ Pattern 2: MEM_REQUEST o MEM_LIMIT in formato errato</a></li>
                <li>
                    <a href="#-pattern-3-ram-limite-altissima-senza-motivo" aria-label="üî• Pattern 3: RAM limite altissima senza motivo">üî• Pattern 3: RAM limite altissima senza motivo</a></li>
                <li>
                    <a href="#-pattern-4-mem-uso-vicino-al-limite" aria-label="‚ö†Ô∏è Pattern 4: MEM uso vicino al limite">‚ö†Ô∏è Pattern 4: MEM uso vicino al limite</a></li></ul>
                </li>
                <li>
                    <a href="#-step-3-confronta-coppie-di-valori" aria-label="üëÅÔ∏è STEP 3: Confronta coppie di valori">üëÅÔ∏è STEP 3: Confronta coppie di valori</a></li>
                <li>
                    <a href="#-esempio-pratico-analizziamo-una-riga" aria-label="üß∞ Esempio pratico: analizziamo una riga">üß∞ Esempio pratico: analizziamo una riga</a></li>
                <li>
                    <a href="#-step-4-riconosci-i-contesti" aria-label="üìå STEP 4: Riconosci i contesti">üìå STEP 4: Riconosci i contesti</a></li>
                <li>
                    <a href="#-trucchetto-visivo" aria-label="üß† TRUCCHETTO VISIVO">üß† TRUCCHETTO VISIVO</a></li>
                <li>
                    <a href="#-ricapitolando-come-leggere-la-tabella" aria-label="üîö Ricapitolando: Come leggere la tabella">üîö Ricapitolando: Come leggere la tabella</a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="kubernetes">Kubernetes<a hidden class="anchor" aria-hidden="true" href="#kubernetes">#</a></h1>
<p><strong>Cluster</strong>
<img alt="alt text" loading="lazy" src="attachments/cluster.jpeg"></p>
<ul>
<li>Cluster = l‚Äôintero datacenter Kubernetes</li>
<li>Cos‚Äô√® il cluster EKS:  composto da Control plane + Worker nodes</li>
</ul>
<p><em>Control plane:</em> API server, scheduler, controller manager, etcd. In EKS √® gestito da AWS. Non c‚Äô√® un tuo ‚Äúmaster node‚Äù su EC2.</p>
<p><em>Worker nodes:</em> le istanze dove girano i Pod. Sono EC2 (providerID AWS), pronte, v1.33.4-eks-‚Ä¶</p>
<ul>
<li>Comando utile: kubectl get nodes -o wide</li>
</ul>
<p><strong>Namespace</strong></p>
<ul>
<li>Namespace = ‚Äústanze‚Äù dentro quel datacenter. Pi√π namespace convivono nello stesso cluster.</li>
</ul>
<p>L‚Äôisolamento √® solo logico: per isolare rete serve NetworkPolicy.</p>
<p>Quote/limiti si applicano a livello di namespace, non di cluster.</p>
<p>Cos‚Äô√® un namespace</p>
<p>Partizione logica dentro un singolo cluster.</p>
<p>Contiene risorse ‚Äúnamespaced‚Äù (Pod, Service, Deployment, ConfigMap, Secret, ‚Ä¶).</p>
<p>Non contiene risorse ‚Äúcluster-scoped‚Äù (Node, PersistentVolume, ClusterRole, CRD, ‚Ä¶).</p>
<p>Serve per isolamento logico, quote/limiti, RBAC e naming.</p>
<p>Comandi tipici:</p>
<p>kubectl get ns</p>
<p>kubectl get pods -n <ns></p>
<p>kubectl get all -n <ns></p>
<p><strong>Deployment</strong>
<img alt="alt text" loading="lazy" src="attachments/deployaml.jpeg"></p>
<p><strong>Service</strong>
<img alt="alt text" loading="lazy" src="attachments/serviceyaml.jpeg"></p>
<p><strong>Worker Node</strong></p>
<p>in EKS un worker node tipicamente corrisponde a una istanza EC2.</p>
<ul>
<li>Ogni EC2 registrata al cluster = 1 nodo Kubernetes.</li>
<li>I nodi stanno in node group (ASG o managed node groups).</li>
<li>Alternative: con Fargate non gestisci EC2; i Pod girano su infrastruttura gestita e non amministri nodi.</li>
</ul>
<p>Note utili:</p>
<ul>
<li>Un nodo pu√≤ eseguire pi√π Pod. Il limite dipende da vCPU/RAM e dai limiti Pod-per-nodo dell‚Äôistanza.</li>
<li>Control plane EKS √® separato e gestito da AWS, non √® nelle tue EC2.</li>
</ul>
<p><strong>Kubectl</strong></p>
<p><strong>multi-tenancy</strong>
Condivisione di risorse: Invece che avere un&rsquo;infrastruttura separata per ogni cliente, diversi tenant utilizzano la stessa istanza software, lo stesso sistema operativo e la stessa infrastruttura hardware sottostante</p>
<h1 id="--cpu-vs-memoria-in-kubernetes--spiegato-facile-">** üß† CPU vs Memoria in Kubernetes ‚Äî spiegato facile **<a hidden class="anchor" aria-hidden="true" href="#--cpu-vs-memoria-in-kubernetes--spiegato-facile-">#</a></h1>
<p>Tipo risorsa	A cosa serve	Se sbagli cosa succede
CPU	Quante istruzioni pu√≤ eseguire il container nel tempo ‚Üí calcolo	Se √® troppo poca: il pod viene rallentato (throttling), ma NON crasha
Memoria	Quanta RAM pu√≤ usare per dati in uso, heap, cache ecc.	Se √® troppa poca: il pod va in crash (OOMKilled)</p>
<p>üß† Trucco per ricordare (con analogia semplice):
Immagina un cuoco (container) che cucina in una cucina (pod):</p>
<p>üîπ CPU = mani del cuoco</p>
<p>Pi√π mani ha ‚Üí pi√π pu√≤ lavorare in parallelo. Se ha solo 1 mano ‚Üí lavora lentamente (throttling), ma non muore.</p>
<p>üîπ Memoria = tavolo da lavoro (RAM)</p>
<p>Se il tavolo √® troppo piccolo e non ci sta la roba ‚Üí il piatto cade per terra ‚Üí crash (OOMKilled).</p>
<p>CONSUMI RISORSE KUBE</p>
<p>Verifica richieste/limiti dichiarati nei Pod</p>
<p>kubectl get pod -n prov-ippv2-svts-platform-namespace -o=custom-columns=&lsquo;NAME:.metadata.name,CPU_REQUEST:.spec.containers[<em>].resources.requests.cpu,CPU_LIMIT:.spec.containers[</em>].resources.limits.cpu,MEM_REQUEST:.spec.containers[<em>].resources.requests.memory,MEM_LIMIT:.spec.containers[</em>].resources.limits.memory&rsquo;</p>
<p>Oppure un esempio pi√π leggibile (usa kubectl describe):</p>
<p>kubectl describe pod &lt;POD_NAME&gt; -n <NAMESPACE></p>
<p><strong>üß† STEP 1: Capire cosa stai guardando</strong></p>
<p>Questa tabella mostra:</p>
<p>Campo	Cosa significa
NAME	Il nome del pod
CPU_REQUEST	CPU minima garantita dal cluster
CPU_LIMIT	CPU massima che il pod pu√≤ usare
MEM_REQUEST	RAM minima garantita
MEM_LIMIT	RAM massima prima di essere OOMKilled (crash)</p>
<p>‚úÖ Se il pod consuma meno di request ‚Üí tutto ok.
‚ö†Ô∏è Se consuma pi√π della request ma meno del limite ‚Üí rischi throttling o crash in caso di picchi.
üî• Se consuma pi√π del limite ‚Üí crash immediato (OOM per RAM, throttling per CPU).</p>
<p><strong>kubectl top pod -n prov-ippv2-svts-platform-namespace</strong></p>
<p>üß™ A cosa servono requests e limits?
Campo	        Significato	                                Esempio
requests.cpu	Quanta CPU viene prenotata per il container	Garantisce che il container abbia almeno questa quantit√†
limits.cpu	    Quanta CPU pu√≤ usare al massimo	            Se la supera ‚Üí throttling
requests.memory	Quanta RAM prenotata	                    Il scheduler cerca un nodo con questa RAM
limits.memory	Quanta RAM pu√≤ usare al massimo	            Se la supera ‚Üí OOMKilled üí•</p>
<p>Ottima domanda. Fermiamoci a <strong>capire bene come si leggono questi dati</strong>, cos√¨ la prossima volta potrai <strong>fare le analisi in autonomia</strong>, esattamente come ho fatto per SVTS e CL.</p>
<p>Ti insegno passo per passo <strong>come leggere questi dati</strong> e valutare quando c‚Äô√® <strong>spreco, rischio o tutto va bene</strong>.</p>
<hr>
<h2 id="-step-1-capire-cosa-stai-guardando">üß† STEP 1: Capire cosa stai guardando<a hidden class="anchor" aria-hidden="true" href="#-step-1-capire-cosa-stai-guardando">#</a></h2>
<p>Questa tabella mostra:</p>
<table>
  <thead>
      <tr>
          <th>Campo</th>
          <th>Cosa significa</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>NAME</code></td>
          <td>Il nome del pod</td>
      </tr>
      <tr>
          <td><code>CPU_REQUEST</code></td>
          <td>CPU minima garantita dal cluster</td>
      </tr>
      <tr>
          <td><code>CPU_LIMIT</code></td>
          <td>CPU massima che il pod pu√≤ usare</td>
      </tr>
      <tr>
          <td><code>MEM_REQUEST</code></td>
          <td>RAM minima garantita</td>
      </tr>
      <tr>
          <td><code>MEM_LIMIT</code></td>
          <td>RAM massima prima di essere OOMKilled (crash)</td>
      </tr>
  </tbody>
</table>
<blockquote>
<p>‚úÖ Se il pod <strong>consuma meno di request</strong> ‚Üí tutto ok.
‚ö†Ô∏è Se <strong>consuma pi√π della request ma meno del limite</strong> ‚Üí rischi throttling o crash in caso di picchi.
üî• Se <strong>consuma pi√π del limite</strong> ‚Üí crash immediato (OOM per RAM, throttling per CPU).</p></blockquote>
<hr>
<h2 id="-step-2-cerca-i-valori-anomali-o-sbilanciati">üß™ STEP 2: Cerca i valori <strong>anomali o sbilanciati</strong><a hidden class="anchor" aria-hidden="true" href="#-step-2-cerca-i-valori-anomali-o-sbilanciati">#</a></h2>
<p>Ecco cosa cerchi <strong>a colpo d‚Äôocchio</strong>:</p>
<h3 id="-pattern-1-cpu-richiesta-molto-pi√π-alta-di-quanto-serve">üü° Pattern 1: CPU richiesta molto pi√π alta di quanto serve<a hidden class="anchor" aria-hidden="true" href="#-pattern-1-cpu-richiesta-molto-pi√π-alta-di-quanto-serve">#</a></h3>
<ul>
<li>Se un pod ha <code>CPU_REQUEST=400m</code> ma <strong>consuma 5m</strong>, sta <strong>sprecando risorse prenotate</strong>.</li>
</ul>
<h3 id="-pattern-2-mem_request-o-mem_limit-in-formato-errato">üî¥ Pattern 2: <code>MEM_REQUEST</code> o <code>MEM_LIMIT</code> in formato errato<a hidden class="anchor" aria-hidden="true" href="#-pattern-2-mem_request-o-mem_limit-in-formato-errato">#</a></h3>
<ul>
<li>Come <code>256M</code> invece di <code>256Mi</code> ‚Üí Kubernetes potrebbe <strong>non capirlo bene</strong>, comportamento imprevedibile.</li>
</ul>
<h3 id="-pattern-3-ram-limite-altissima-senza-motivo">üî• Pattern 3: RAM limite altissima senza motivo<a hidden class="anchor" aria-hidden="true" href="#-pattern-3-ram-limite-altissima-senza-motivo">#</a></h3>
<ul>
<li>Se <code>LIMIT=4Gi</code> ma <code>USE=500Mi</code> ‚Üí stai riservando <strong>RAM che nessuno usa</strong>, ma che nessun altro pod pu√≤ toccare.</li>
</ul>
<h3 id="-pattern-4-mem-uso-vicino-al-limite">‚ö†Ô∏è Pattern 4: MEM uso vicino al limite<a hidden class="anchor" aria-hidden="true" href="#-pattern-4-mem-uso-vicino-al-limite">#</a></h3>
<ul>
<li>Se <code>MEM_USE ‚âà MEM_LIMIT</code>, sei <strong>a rischio crash</strong> per picchi minimi.</li>
</ul>
<hr>
<h2 id="-step-3-confronta-coppie-di-valori">üëÅÔ∏è STEP 3: Confronta coppie di valori<a hidden class="anchor" aria-hidden="true" href="#-step-3-confronta-coppie-di-valori">#</a></h2>
<p>Fai questo:</p>
<table>
  <thead>
      <tr>
          <th>Cosa guardi</th>
          <th>Cosa significa</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>CPU_REQUEST vs CPU_LIMIT</code></td>
          <td>Quanto √® elastico il pod? Se troppo vicino, pu√≤ subire throttling</td>
      </tr>
      <tr>
          <td><code>CPU_REQUEST vs USO</code></td>
          <td>Se uso √® molto basso ‚Üí stai prenotando troppa CPU</td>
      </tr>
      <tr>
          <td><code>MEM_REQUEST vs MEM_USE</code></td>
          <td>Se uso &gt; request ‚Üí potresti andare in OOM se i nodi sono stretti</td>
      </tr>
      <tr>
          <td><code>MEM_LIMIT vs MEM_USE</code></td>
          <td>Se uso &laquo; limite ‚Üí puoi abbassare limite</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="-esempio-pratico-analizziamo-una-riga">üß∞ Esempio pratico: analizziamo una riga<a hidden class="anchor" aria-hidden="true" href="#-esempio-pratico-analizziamo-una-riga">#</a></h2>
<pre tabindex="0"><code>prov-ippv2-pr-platform-ippv2-backend-7747c84bc5-2w6sw
CPU_REQUEST=400m
CPU_LIMIT=2
MEM_REQUEST=2Gi
MEM_LIMIT=4Gi
</code></pre><p><strong>Domande da porti:</strong></p>
<ol>
<li>
<p>‚öôÔ∏è <strong>CPU</strong></p>
<ul>
<li>400m √® 0.4 core garantiti ‚Üí bene se backend fa lavoro intenso.</li>
<li>Limite a 2 core ‚Üí elastico.</li>
<li><strong>Se uso reale √® basso (es. 5m)</strong> ‚Üí stai <strong>prenotando risorse inutili</strong>.</li>
</ul>
</li>
<li>
<p>üß† <strong>Memoria</strong></p>
<ul>
<li>2Gi richiesti ‚Üí schedulazione solo su nodi con molta RAM.</li>
<li>4Gi limite ‚Üí se non li usa, stai buttando RAM.</li>
<li>Se uso √® tipo <strong>200Mi</strong>, hai 10x di spreco.</li>
</ul>
</li>
</ol>
<hr>
<h2 id="-step-4-riconosci-i-contesti">üìå STEP 4: Riconosci i contesti<a hidden class="anchor" aria-hidden="true" href="#-step-4-riconosci-i-contesti">#</a></h2>
<p>L‚Äôambiente <code>prod</code> √® diverso da <code>dev</code> o <code>collaudo</code>:</p>
<table>
  <thead>
      <tr>
          <th>Ambiente</th>
          <th>Obiettivo</th>
          <th>Strategia</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>dev</strong></td>
          <td>fare test</td>
          <td>tutto minimo, anche se crasha</td>
      </tr>
      <tr>
          <td><strong>collaudo</strong></td>
          <td>test realistici</td>
          <td>risorse ridotte ma coerenti</td>
      </tr>
      <tr>
          <td><strong>prod</strong></td>
          <td>stabilit√†</td>
          <td>richieste <strong>accurate</strong>, limiti ben tarati</td>
      </tr>
  </tbody>
</table>
<p>Quindi in <strong>PROD</strong>:</p>
<ul>
<li><strong>Requests vanno tarati bene</strong> (non troppo bassi)</li>
<li><strong>Limiti vanno bilanciati</strong>: n√© troppo stretti, n√© 10x inutili</li>
<li>I pod non devono essere &ldquo;overkill&rdquo;, altrimenti saturano il cluster</li>
</ul>
<hr>
<h2 id="-trucchetto-visivo">üß† TRUCCHETTO VISIVO<a hidden class="anchor" aria-hidden="true" href="#-trucchetto-visivo">#</a></h2>
<p>Per ogni riga della tabella, <strong>pensa in questi 3 livelli:</strong></p>
<pre tabindex="0"><code>[ MEM USE ] &lt; [ MEM REQUEST ] &lt; [ MEM LIMIT ]
     OK          OK (schedulabile)    OK (non crasha)

Se invece:
[ MEM USE ] &gt; [ MEM REQUEST ] ‚Üí pu√≤ andare in OOM se non ha risorse libere nel nodo
[ MEM USE ] ‚âà [ MEM LIMIT ] ‚Üí rischia crash!
</code></pre><hr>
<h2 id="-ricapitolando-come-leggere-la-tabella">üîö Ricapitolando: Come leggere la tabella<a hidden class="anchor" aria-hidden="true" href="#-ricapitolando-come-leggere-la-tabella">#</a></h2>
<table>
  <thead>
      <tr>
          <th>Cosa cerchi</th>
          <th>Azione</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>CPU_REQUEST &gt;&gt; uso</code></td>
          <td>Abbassa la request</td>
      </tr>
      <tr>
          <td><code>MEM_LIMIT &gt;&gt; uso</code></td>
          <td>Abbassa il limite</td>
      </tr>
      <tr>
          <td><code>MEM_REQUEST &lt; uso</code></td>
          <td>Alza la request</td>
      </tr>
      <tr>
          <td><code>Formato = 256M</code></td>
          <td>Correggi ‚Üí <code>256Mi</code></td>
      </tr>
      <tr>
          <td><code>kestra = 4Gi</code></td>
          <td>Da valutare: se uso √® &lt; 1Gi, √® troppo</td>
      </tr>
  </tbody>
</table>
<hr>
<p>‚úÖ Appena mi dai anche <code>kubectl top pod -n prov-ippv2-pr-platform-namespace</code>, ti faccio l‚Äôanalisi completa in stile SVTS e CL, <strong>ma ora potrai anche capirla da solo leggendo i dati come sopra</strong>.</p>
<p>Vuoi procedere?</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/notes/tags/kubernetes/">Kubernetes</a></li>
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/notes/">Notes</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
